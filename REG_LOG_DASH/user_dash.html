<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>METIS Lab - User Dashboard</title>
    <link rel="stylesheet" href="style_user_dash.css">
    <script src="script_user_dash.js" defer></script>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="logo-container">
            <div class="logo">M</div>
            <div class="logo-text">
              <div class="logo-title">METIS Lab</div>
              <div class="logo-subtitle">User Dashboard</div>
            </div>
          </div>
        </div>

        <div class="sidebar-menu">
          <div class="menu-section">
            <div class="menu-item active" data-page="dashboard">
              <span class="menu-icon">üè†</span>
              <span>Dashboard</span>
            </div>
          </div>

          <div class="menu-section">
            <div class="menu-label">MY WORKSPACE</div>
            <div class="menu-item" data-page="profile">
              <span class="menu-icon">üë§</span>
              <span>My Profile</span>
            </div>
            <div class="profile-submenu">
              <div class="menu-item submenu-item" data-page="requests">
                <span class="menu-icon">üìã</span>
                <span>My Requests</span>
              </div>
              <div class="menu-item submenu-item" data-page="submit">
                <span class="menu-icon">üìù</span>
                <span>Submit Request</span>
              </div>
              <div class="menu-item submenu-item" data-page="activities">
                <span class="menu-icon">üìä</span>
                <span>Activities</span>
              </div>
            </div>
          </div>

          
        </div>

        <div class="sidebar-footer">
          <div class="logout-btn" onclick="logout()">
            <span class="menu-icon">üö™</span>
            <span>Logout</span>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Header -->
        <div class="header">
          <div class="header-left">
            <h1 id="page-title">Dashboard</h1>
            <p>Welcome back, <span id="user-greeting"></span></p>
          </div>
          <div class="header-right">
            
            <div class="profile-btn" id="user-avatar" onclick="toggleProfileDropdown()">
              <span class="avatar-icon">üë§</span>
            </div>
            <div class="profile-dropdown" id="profile-dropdown">
              <div class="profile-dropdown-header">
                <div class="profile-dropdown-avatar" id="profile-dropdown-avatar">
                  <span class="avatar-icon">üë§</span>
                </div>
                <div class="profile-dropdown-info">
                  <div class="profile-dropdown-name" id="profile-dropdown-name">John Doe</div>
                  <div class="profile-dropdown-email" id="profile-dropdown-email">john.doe@example.com</div>
                </div>
              </div>
              <div class="profile-dropdown-details">
                <div class="profile-detail-item">
                  <span class="profile-detail-label">Role:</span>
                  <span class="profile-detail-value" id="profile-dropdown-role">Student</span>
                </div>
                <div class="profile-detail-item">
                  <span class="profile-detail-label">User ID:</span>
                  <span class="profile-detail-value" id="profile-dropdown-student-id">MET000001</span>
                </div>
                <div class="profile-detail-item">
                  <span class="profile-detail-label">Phone:</span>
                  <span class="profile-detail-value" id="profile-dropdown-phone">+1 234-567-8900</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page-content active">
          <div class="welcome-banner-card">
            <div class="welcome-content">
              <h2 class="welcome-title">
                Welcome back, <span id="welcome-username"></span>! üëã
              </h2>
              <p class="welcome-subtitle">
                <span id="welcome-subtitle"></span>
              </p>
            </div>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-info">
                  <div class="stat-label">Total Requests</div>
                  <div class="stat-value" id="stat-total-requests">0</div>
                  <div class="stat-subtext">‚Üó 20% from last month</div>
                </div>
                <div class="stat-icon blue">üìÑ</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-info">
                  <div class="stat-label">Pending</div>
                  <div class="stat-value" id="stat-pending">0</div>
                  <div class="stat-subtext">Awaiting approval</div>
                </div>
                <div class="stat-icon yellow">‚è≥</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-info">
                  <div class="stat-label">Approved</div>
                  <div class="stat-value" id="stat-approved">0</div>
                  <div class="stat-subtext">Successfully processed</div>
                </div>
                <div class="stat-icon green">‚úÖ</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-info">
                  <div class="stat-label">Rejected</div>
                  <div class="stat-value" id="stat-rejected">0</div>
                  <div class="stat-subtext">Average processing</div>
                </div>
                <div class="stat-icon purple">‚ö°</div>
              </div>
            </div>
          </div>

          <div class="content-grid">
            <div>
              <div class="card">
                <div class="card-header">
                  <h2 class="card-title">Recent Activity</h2>
                  <div class="view-all-btn" onclick="navigateToPage('activities')">View all ‚Üí</div>
                </div>
                <div class="activity-list" id="recent-requests"></div>
              </div>
            </div>
            <div>
              <div class="card">
                <div class="card-header">
                  <h2 class="card-title">Quick Actions</h2>
                </div>
                <div style="display: flex; flex-direction: column; gap: 15px;">
                  <button class="btn btn-primary" onclick="navigateToPage('submit')">Submit New Request</button>
                  <button class="btn btn-secondary" onclick="navigateToPage('requests')">View My Requests</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Page -->
        <div id="profile-page" class="page-content">
          <div class="profile-section">
            <div class="profile-card">
              <div class="profile-avatar" id="profile-avatar"></div>
              <div class="profile-name" id="profile-name"></div>
              <div class="profile-role" id="profile-role"></div>
              <a href="#" class="change-password-link" onclick="realOpenPasswordModal(); return false;">
                üîí Change Password
              </a>
              <a href="#" class="forgot-password-link" onclick="openForgotPasswordModal(); return false;">
                üîë Forgot Password
              </a>
            </div>

            <div class="profile-details">
              <div class="card-header">
                <h2 class="card-title">Personal Information</h2>
                <button class="btn btn-secondary" onclick="openEditProfileModal()">
                  ‚úèÔ∏è Edit Profile
                </button>
              </div>
              <div class="detail-group">
                <div class="detail-label">Email Address</div>
                <div class="detail-value" id="detail-email"></div>
              </div>
              <div class="detail-group">
                <div class="detail-label">Phone Number</div>
                <div class="detail-value" id="detail-phone"></div>
              </div>
              <div class="detail-group">
                <div class="detail-label">Department</div>
                <div class="detail-value" id="detail-department"></div>
              </div>
              <div class="detail-group" id="campus-group" style="display: none;">
                <div class="detail-label">Campus</div>
                <div class="detail-value" id="detail-campus"></div>
              </div>
              <div class="detail-group" id="aadhar-group" style="display: none;">
                <div class="detail-label">Aadhar Number</div>
                <div class="detail-value" id="detail-aadhar"></div>
              </div>
              <div class="detail-group" id="profession-group" style="display: none;">
                <div class="detail-label">Profession</div>
                <div class="detail-value" id="detail-profession"></div>
              </div>
              <div class="detail-group" id="institution-group" style="display: none;">
                <div class="detail-label">Institution</div>
                <div class="detail-value" id="detail-institution"></div>
              </div>
              <div class="detail-group" id="address-group" style="display: none;">
                <div class="detail-label">Address</div>
                <div class="detail-value" id="detail-address"></div>
              </div>
              <div class="detail-group" id="location-group" style="display: none;">
                <div class="detail-label">Location</div>
                <div class="detail-value" id="detail-location"></div>
              </div>
              <div class="detail-group">
                <div class="detail-label">Registration / Employee ID</div>
                <div class="detail-value" id="detail-student-id"></div>
              </div>
              <div class="detail-group">
                <div class="detail-label">Join Date</div>
                <div class="detail-value" id="detail-join-date"></div>
              </div>
              <div class="detail-group">
                <div class="detail-label">Account Status</div>
                <div class="detail-value" id="detail-status"></div>
              </div>
            </div>

          </div>

          <!-- Project History -->
        
        </div>

        <!-- My Requests Page -->
        <div id="requests-page" class="page-content">
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">My Requests</h2>
              <button class="btn btn-primary" onclick="navigateToPage('submit')">New Request</button>
            </div>
            <div class="table-container">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Request ID</th>
                    <th>Type</th>
                    <th>Date Submitted</th>
                    <th>Status</th>
                    <th>Priority</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody id="requests-table-body">
                  <!-- Dynamic content will be loaded here -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Submit Request Page -->
        <!-- Submit Request Page -->
        <div id="submit-page" class="page-content">
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">METIS Lab Access Requisition Form</h2>
            </div>
            <form id="metisRequisitionForm">
              <!-- Question 1: Fields -->
              <div class="question-section">
                <h4>1. Which of the following fields do you want to work with METIS?</h4>
                <div class="checkbox-group">
                  <div class="checkbox-item">
                    <input type="checkbox" id="ml" name="fields" value="machine-learning" />
                    <label for="ml">Machine Learning</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="dl" name="fields" value="deep-learning" />
                    <label for="dl">Deep Learning</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="nlp" name="fields" value="nlp" />
                    <label for="nlp">Natural Language Processing</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="genai" name="fields" value="generative-ai" />
                    <label for="genai">Generative AI</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="cv" name="fields" value="computer-vision" />
                    <label for="cv">Computer Vision</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="vlm" name="fields" value="vision-language" />
                    <label for="vlm">Vision-Language Model</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="cyber" name="fields" value="cyber-security" />
                    <label for="cyber">Cyber Security</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="quantum" name="fields" value="quantum-ml" />
                    <label for="quantum">Quantum ML</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="fields-other" name="fields" value="other" onchange="toggleOther('fields-other-specify')" />
                    <label for="fields-other">Others</label>
                  </div>
                </div>
                <div id="fields-other-specify" class="other-specify">
                  <input type="text" placeholder="Please specify..." name="fields-other-text" class="form-input" />
                </div>
              </div>

              <!-- Question 2: Package -->
              <div class="question-section">
                <h4>2. Which package do you want to use?</h4>
                <div class="radio-group">
                  <div class="radio-item">
                    <input type="radio" id="basic" name="package" value="basic" required />
                    <label for="basic">Basic (NumPy, Pandas, Matplotlib, Scikit-learn, Seaborn, SciPy)</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="moderate" name="package" value="moderate" />
                    <label for="moderate">Basic + Moderate (TensorFlow, Keras, PyTorch, XGBoost, LightGBM, OpenCV, NLTK, Spacy)</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="advance" name="package" value="advance" />
                    <label for="advance">Basic + Moderate + Advance (Hugging Face, FastAI, ONNX, Dask, Ray, Horovod, etc.)</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="package-other" name="package" value="other" onchange="toggleOther('package-other-specify')" />
                    <label for="package-other">Others</label>
                  </div>
                </div>
                <div id="package-other-specify" class="other-specify">
                  <input type="text" placeholder="Please specify..." name="package-other-text" class="form-input" />
                </div>
              </div>

              <!-- Question 3: Dataset Status -->
              <div class="question-section">
                <h4>3. Do you already have the dataset, or are you planning to download it?</h4>
                <div class="radio-group">
                  <div class="radio-item">
                    <input type="radio" id="have-dataset" name="dataset-status" value="have" required />
                    <label for="have-dataset">I have the dataset</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="download-dataset" name="dataset-status" value="download" />
                    <label for="download-dataset">I am going to download it</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="create-dataset" name="dataset-status" value="create" />
                    <label for="create-dataset">I will create it myself</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="dataset-other" name="dataset-status" value="other" onchange="toggleOther('dataset-other-specify')" />
                    <label for="dataset-other">Others</label>
                  </div>
                </div>
                <div id="dataset-other-specify" class="other-specify">
                  <input type="text" placeholder="Please specify..." name="dataset-other-text" class="form-input" />
                </div>
              </div>

              <!-- Question 4: Dataset Size -->
              <div class="question-section">
                <h4>4. What is the size of the dataset are you planning to use for your analysis or project?</h4>
                <div class="radio-group">
                  <div class="radio-item">
                    <input type="radio" id="size-small" name="dataset-size" value="<200mb" required />
                    <label for="size-small">&lt; 200 MB</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="size-medium" name="dataset-size" value="200-500mb" />
                    <label for="size-medium">&gt; 200 MB - &lt;500 MB</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="size-large" name="dataset-size" value="500mb-1gb" />
                    <label for="size-large">&gt;500 MB - &lt; 1GB</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="size-xlarge" name="dataset-size" value="1-5gb" />
                    <label for="size-xlarge">&gt;1GB - &lt;5 GB</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="size-huge" name="dataset-size" value=">5gb" />
                    <label for="size-huge">&gt;5 GB</label>
                  </div>
                </div>
              </div>

              <!-- Question 5: Data Type -->
              <div class="question-section">
                <h4>5. What type of data are you planning to use for your project or analysis?</h4>
                <div class="checkbox-group">
                  <div class="checkbox-item">
                    <input type="checkbox" id="text-data" name="data-type" value="text" />
                    <label for="text-data">Text based</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="image-data" name="data-type" value="image" />
                    <label for="image-data">Image based</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="speech-data" name="data-type" value="speech" />
                    <label for="speech-data">Speech (voice) based</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="video-data" name="data-type" value="video" />
                    <label for="video-data">Video based</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="sensor-data" name="data-type" value="sensor" />
                    <label for="sensor-data">Sensor data</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="geo-data" name="data-type" value="geospatial" />
                    <label for="geo-data">Geospatial data</label>
                  </div>
                  <div class="checkbox-item">
                    <input type="checkbox" id="data-other" name="data-type" value="other" onchange="toggleOther('data-other-specify')" />
                    <label for="data-other">Others</label>
                  </div>
                </div>
                <div id="data-other-specify" class="other-specify">
                  <input type="text" placeholder="Please specify..." name="data-other-text" class="form-input" />
                </div>
              </div>

              <!-- Question 6: Computational Power -->
              <div class="question-section">
                <h4>6. What level of computational power do you want to use?</h4>
                <div class="radio-group">
                  <div class="radio-item">
                    <input type="radio" id="cores-low" name="cores" value="<5" required />
                    <label for="cores-low">&lt; 5 cores</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="cores-medium" name="cores" value="5-10" />
                    <label for="cores-medium">5 cores ‚Äì 10 cores</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="cores-high" name="cores" value="10-15" />
                    <label for="cores-high">10 to 15 cores</label>
                  </div>
                </div>
              </div>
              <div class="nda-container">
                <div class="nda-header">
                  <h1>Non-Disclosure Agreement</h1>
                  <p class="subtitle">Official METIS Project NDA Form</p>
                </div>
          
               
          
                <div class="nda-content">
                  <div class="nda-title">
                    <h2>CHRIST (Deemed to be University)</h2>
                    <h2>Bangalore Yeshwanthpur Campus</h2>
                    <h3>Non-Disclosure Agreement (NDA) for Access to METIS Lab (BYC)</h3>
                    <h3>
                      Model-driven Explorative Technologies and Intelligent Solutions
                      (METIS) Lab
                    </h3>
                  </div>
          
                  <p>
                    This Non-Disclosure Agreement ("Agreement") is entered into by and
                    between CHRIST (Deemed to be University) (hereinafter referred to as
                    "the University") and the User (hereinafter referred to as "the User")
                    for the purpose of granting access to the METIS Lab facilities. The
                    User agrees to the following terms and conditions to ensure the
                    confidentiality, security, and proper use of the lab resources.
                  </p>
          
                  <div class="section">
                    <h4>1. Purpose</h4>
                    <p>
                      The purpose of this Agreement is to protect the confidentiality of
                      the METIS Lab's systems, data, and resources while allowing the User
                      to utilize the lab for research, development, and exploration
                      activities.
                    </p>
                  </div>
          
                  <div class="section">
                    <h4>2. Confidentiality Obligations</h4>
                    <p>
                      The User agrees to maintain the confidentiality of all information,
                      systems, and resources accessed or used in the METIS Lab. This
                      includes, but is not limited to:
                    </p>
                    <ul>
                      <li>
                        <strong>System Credentials:</strong> The User shall not share
                        system credentials (e.g., usernames, passwords) with any
                        unauthorized individuals, including fellow Faculty members,
                        Scholars and students.
                      </li>
                      <li>
                        <strong>Data Confidentiality:</strong> The User shall not disclose
                        any data, datasets, or research outputs obtained or generated in
                        the lab to unauthorized parties.
                      </li>
                      <li>
                        <strong>Prohibited Data Transfer:</strong> Data transfer shall not
                        be conducted physically through devices such as USB drives,
                        external storage, or cloud services like Google Drive. All data
                        transfers shall be exclusively managed by authorized IT Services
                        personnel.
                      </li>
                    </ul>
                  </div>
          
                  <div class="section">
                    <h4>3. Data Transfer and System Allocation</h4>
                    <ul>
                      <li>
                        <strong>Data Transfer:</strong> All data transfers must be managed
                        by authorized IT service personnel. The IT team must have
                        appropriate knowledge of the dataset to ensure proper handling.
                      </li>
                      <li>
                        <strong>System Allocation:</strong> The allocation of systems and
                        resources for data-related activities shall be the sole
                        responsibility of the IT service officials. The User must adhere
                        to the allocated resources and not attempt to access unauthorized
                        systems or data.
                      </li>
                    </ul>
                  </div>
          
                  <div class="section">
                    <h4>4. Cost Structure</h4>
                    <ul>
                      <li>
                        <strong>Cost for Utilizing the Lab:</strong> The cost for
                        utilizing the METIS Lab is as mentioned in the costing table
                        provided in the lab requisition form. The cost is calculated
                        solely based on the details provided by the user in the
                        requisition form.
                      </li>
                      <li>
                        <strong
                          >Cost Exemption for Exploration and Initial Development:</strong
                        >
                        No charges shall be incurred for activities related to model
                        fine-tuning, exploration, and learning on the dataset mentioned as
                        per the lab requisition form / initial transfer, provided these
                        activities strictly align with and do not exceed the user's stated
                        requirements in the requisition form. If the user requires
                        additional dataset for the same model or different dataset /
                        model, an additional cost will be incurred as below:
                      </li>
                      <li>
                        <strong>Additional Cost for Dataset Transfer/Download:</strong> If
                        additional datasets are transferred or downloaded during the
                        process, an additional cost will be incurred. This additional cost
                        will be calculated and communicated to the user during the report
                        handover.
                      </li>
                      <li>
                        <strong>Payment of Additional Cost:</strong> The user is required
                        to pay the additional cost, if any, before obtaining the final
                        report or any output generated from the lab. Failure to pay the
                        additional cost may result in delays in the release of the report
                        or other outputs.
                      </li>
                      <li>
                        <strong>Dataset Retention and Reuse:</strong> The dataset shall
                        remain on the server for a maximum period of three months. After
                        this period, it will be permanently removed from the server. If
                        the user wishes to reuse the same dataset, applicable charges will
                        be incurred as per the lab's pricing structure.
                      </li>
                    </ul>
                  </div>
          
                  <div class="section">
                    <h4>5. Acknowledgement</h4>
                    <p>
                      The user is responsible for acknowledging the use / computational
                      resources support of the METIS Lab in their publications as below:
                    </p>
                    <div class="acknowledgement-box">
                      "The authors acknowledge the use of the Model-driven Explorative
                      Technologies and Intelligent Solutions (METIS) Lab at CHRIST (Deemed
                      to be University), Bangalore Yeshwanthpur Campus, for providing the
                      computational resources and facilities that supported this
                      research."
                    </div>
                    <p>
                      Please also send a copy of the publication (email), or the
                      publication information (citation, DOI) to
                      <strong>metis.csbyc@christuniversity.in</strong>
                    </p>
                  </div>
          
                  <div class="section">
                    <h4>6. Prohibited Activities</h4>
                    <p>The User agrees not to engage in the following activities:</p>
                    <ul>
                      <li>Unauthorized sharing of system credentials.</li>
                      <li>
                        Data transfer or storage of data in the lab's designated systems
                        without the permission of the IT Services personnel.
                      </li>
                      <li>
                        Unauthorized data transfer or storage outside the lab's designated
                        systems.
                      </li>
                      <li>
                        Use of lab resources for purposes other than those stated in the
                        requisition form.
                      </li>
                      <li>
                        Any activity that may compromise the security or integrity of the
                        lab's systems or data.
                      </li>
                    </ul>
                  </div>
          
                  <div class="section">
                    <h4>7. Term and Termination</h4>
                    <ul>
                      <li>
                        This Agreement shall remain in effect for the duration of the
                        User's access to the METIS Lab.
                      </li>
                      <li>
                        The University reserves the right to terminate the User's access
                        to the lab at any time if the User violates the terms of this
                        Agreement.
                      </li>
                    </ul>
                  </div>
          
                  <div class="section">
                    <h4>8. Governing Law</h4>
                    <p>
                      This Agreement shall be governed by and construed in accordance with
                      the guidelines framed for the METIS Lab. Any disputes arising out of
                      or in connection with this Agreement shall be subject to the
                      exclusive purview of the CHRIST (Deemed to be University)
                      administration.
                    </p>
                  </div>
          
                  
                </div>
          
                <div class="nda-footer">
                  <button
                    class="back-btn"
                    onclick="window.location.href='college-dashboard.html#project-forms'"
                  >
                    
                  </button>
                </div>
              </div>

              <!-- Project Guide Email -->
              <div class="question-section">
                <h4>Project Guide/Mentor Email <span class="required">*</span></h4>
                <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                  Please enter the email address of your project guide or mentor who will oversee your work at METIS Lab.
                </p>
                <div class="text-group">
                  <input 
                    type="email" 
                    id="guide-email" 
                    name="guide-email" 
                    class="form-input" 
                    placeholder="Enter your guide's email address (e.g., guide@college.edu)" 
                    required 
                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                  />
                  <small style="color: #666; display: block; margin-top: 5px;">
                    Your guide will receive notifications about your lab access request approval process.
                  </small>
                </div>
              </div>

              <!-- Declaration Section -->
              <div class="declaration-section">
                <h3 class="card-title" style="margin-bottom: 15px;">Declaration</h3>
                <div class="declaration-text" style="background: var(--gray-50); padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid var(--primary);">
                  <p style="margin-bottom: 15px; line-height: 1.6;">
                    By signing this Agreement, the User acknowledges that they have read, understood, and agreed to the terms and conditions outlined herein.
                  </p>
                  <p style="line-height: 1.6;">
                    I/We hereby will not disclose the development and implementation of our research model, which was done at METIS Lab. The research team will try to publish the observations obtained from the aforesaid practice. It is further agreed that in the event the article is not published in a recognized Conference or a peer-reviewed journal with indexing, the undersigned shall be liable to pay the utilization fee for the resources, time, and efforts invested in the development of the research model to the METIS Lab.
                  </p>
                </div>
                <div class="checkbox-item" style="background: white; max-width: fit-content; padding: 15px; border-radius: 8px; border: 2px solid var(--primary);">
                  <input type="checkbox" id="agree" name="agree" required />
                  <label for="agree"><strong>I agree to the terms and conditions</strong></label>
                </div>
              </div>

              <div style="display: flex; gap: 15px; margin-top: 30px; justify-content: center;">
                <button type="submit" class="btn btn-primary">Submit Requisition</button>
                <button type="reset" class="btn btn-secondary">Clear Form</button>
              </div>
            </form>
          </div>
        </div>


        

        <!-- Activities Page -->
        <div id="activities-page" class="page-content">
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Recent Activities</h2>
              <div class="view-all-btn" onclick="refreshActivities()">Refresh</div>
            </div>
            <div class="activity-list" id="all-activities">
              <div class="loading-activities" style="text-align: center; padding: 40px;">
                <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #1e3c72; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                <p style="margin-top: 20px; color: #666;">Loading activities...</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Notifications Page -->
        <div id="notifications-page" class="page-content">
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Notifications</h2>
              <div class="view-all-btn" onclick="markAllRead()">Mark all read</div>
            </div>
            <div class="activity-list">
              <div class="activity-item" style="border-left: 3px solid var(--primary); background: rgba(99, 102, 241, 0.05);">
                <div class="activity-icon success">üîî</div>
                <div class="activity-details">
                  <div class="activity-title">Request Approved</div>
                  <div class="activity-time">Your data access request has been approved - 2 hours ago</div>
                </div>
              </div>
              <div class="activity-item" style="border-left: 3px solid var(--warning); background: rgba(245, 158, 11, 0.05);">
                <div class="activity-icon warning">üìã</div>
                <div class="activity-details">
                  <div class="activity-title">Document Required</div>
                  <div class="activity-time">Please upload additional documents for REQ-2024-002 - 1 day ago</div>
                </div>
              </div>
              <div class="activity-item" style="border-left: 3px solid var(--info); background: rgba(59, 130, 246, 0.05);">
                <div class="activity-icon info">‚úÖ</div>
                <div class="activity-details">
                  <div class="activity-title">Profile Updated</div>
                  <div class="activity-time">Your profile information has been successfully updated - 3 days ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-icon warning">‚è∞</div>
                <div class="activity-details">
                  <div class="activity-title">Deadline Reminder</div>
                  <div class="activity-time">NDA renewal due in 5 days - 1 week ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-icon success">üéâ</div>
                <div class="activity-details">
                  <div class="activity-title">Project Completed</div>
                  <div class="activity-time">Neural Network Optimization project marked as completed - 2 weeks ago</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Notification Settings -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Notification Preferences</h2>
            </div>
            <div style="display: flex; flex-direction: column; gap: 15px;">
              <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                <input type="checkbox" checked style="transform: scale(1.2);">
                <span>Email notifications for request updates</span>
              </label>
              <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                <input type="checkbox" checked style="transform: scale(1.2);">
                <span>Push notifications for urgent requests</span>
              </label>
              <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                <input type="checkbox" style="transform: scale(1.2);">
                <span>Weekly summary reports</span>
              </label>
              <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                <input type="checkbox" checked style="transform: scale(1.2);">
                <span>Project milestone notifications</span>
              </label>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Request Details Modal -->
    <div id="requestDetailsModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalRequestTitle">Request Details</h2>
          <span class="close" onclick="closeRequestDetailsModal()">&times;</span>
        </div>
        <div class="modal-body">
          <div id="requestDetailsContent">
            <!-- Request details will be loaded here -->
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeRequestDetailsModal()">Close</button>
        </div>
      </div>
    </div>

    <!-- Modal Styles -->
    <style>
      .modal {
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        max-width: 800px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        animation: modalSlideIn 0.3s ease;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal-header {
        padding: 20px 30px;
        border-bottom: 1px solid #e1e5e9;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-header h2 {
        margin: 0;
        color: #1e3c72;
        font-size: 24px;
      }

      .close {
        font-size: 28px;
        font-weight: bold;
        color: #aaa;
        cursor: pointer;
        transition: color 0.3s ease;
      }

      .close:hover {
        color: #000;
      }

      .modal-body {
        padding: 30px;
      }

      .modal-footer {
        padding: 20px 30px;
        border-top: 1px solid #e1e5e9;
        text-align: right;
      }

      .request-detail-section {
        margin-bottom: 25px;
      }

      .request-detail-section h3 {
        color: #1e3c72;
        margin-bottom: 15px;
        font-size: 18px;
        border-bottom: 2px solid #e1e5e9;
        padding-bottom: 8px;
      }

      .detail-row {
        display: flex;
        margin-bottom: 12px;
        align-items: flex-start;
      }

      .detail-label {
        font-weight: 600;
        color: #333;
        min-width: 150px;
        margin-right: 15px;
      }

      .detail-value {
        color: #666;
        flex: 1;
        word-wrap: break-word;
      }

      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status-pending { background-color: #fff3cd; color: #856404; }
      .status-approved { background-color: #d4edda; color: #155724; }
      .status-rejected { background-color: #f8d7da; color: #721c24; }
      .status-guide-approved { background-color: #cce5ff; color: #004085; }
      .status-hod-approved { background-color: #d1ecf1; color: #0c5460; }

      .form-data-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .form-data-item {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid #1e3c72;
      }

      .form-data-item h4 {
        margin: 0 0 8px 0;
        color: #1e3c72;
        font-size: 14px;
        font-weight: 600;
      }

      .form-data-item p {
        margin: 0;
        color: #666;
        font-size: 14px;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .btn-secondary {
        background-color: #6c757d;
        color: white;
      }

      .btn-secondary:hover {
        background-color: #5a6268;
      }

      /* Activity Date Grouping Styles */
      .activity-date-group {
        margin-bottom: 30px;
      }

      .activity-date-header {
        font-size: 16px;
        font-weight: 600;
        color: #1e3c72;
        margin-bottom: 15px;
        padding-bottom: 8px;
        border-bottom: 2px solid #e1e5e9;
      }

      .activity-date-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .activity-item {
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .activity-item:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .activity-description {
        font-size: 14px;
        color: #666;
        margin: 4px 0;
      }

      .activity-status {
        margin-left: auto;
        display: flex;
        align-items: center;
      }

      .status-badge {
        font-size: 11px;
        padding: 4px 8px;
        border-radius: 12px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status-pending { background-color: #fff3cd; color: #856404; }
      .status-approved { background-color: #d4edda; color: #155724; }
      .status-rejected { background-color: #f8d7da; color: #721c24; }
      .status-guide-approved { background-color: #cce5ff; color: #004085; }
      .status-hod-approved { background-color: #d1ecf1; color: #0c5460; }
    </style>

    <!-- Change Password Modal -->
    <div id="password-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Security Settings</h2>
          <span class="close-modal" onclick="closePasswordModal()">&times;</span>
        </div>
        <div class="modal-body">
          <p style="margin-bottom: 20px; color: #666;">For security reasons, we recommend changing your temporary password.</p>
          <form id="change-password-form" onsubmit="handleChangePassword(event)">
            <div class="form-group">
              <label for="current-password">Current Password <span class="required">*</span></label>
              <input type="password" id="current-password" required placeholder="Enter current password" />
            </div>
            <div class="form-group">
              <label for="new-password">New Password <span class="required">*</span></label>
              <input type="password" id="new-password" required placeholder="Enter new password (min 8 characters)" minlength="8" />
              <small style="color: #666; display: block; margin-top: 5px;">Password must be at least 8 characters and include: uppercase letter, lowercase letter, and digit (e.g., MyPass123)</small>
            </div>
            <div class="form-group">
              <label for="confirm-password">Confirm New Password <span class="required">*</span></label>
              <input type="password" id="confirm-password" required placeholder="Confirm new password" />
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary">Change Password</button>
              <button type="button" class="btn btn-secondary" onclick="closePasswordModal()">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgot-password-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Reset Password</h2>
          <span class="close-modal" onclick="closeForgotPasswordModal()">&times;</span>
        </div>
        <div class="modal-body">
          <div id="forgot-step-1" class="forgot-step">
            <p style="margin-bottom: 20px; color: #666;">Enter your email address to receive a verification code.</p>
            <form id="forgot-email-form" onsubmit="handleSendOTP(event)">
              <div class="form-group">
                <label for="forgot-email">Email Address <span class="required">*</span></label>
                <input type="email" id="forgot-email" required placeholder="Enter your registered email" />
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Send Verification Code</button>
                <button type="button" class="btn btn-secondary" onclick="closeForgotPasswordModal()">Cancel</button>
              </div>
            </form>
          </div>
          
          <div id="forgot-step-2" class="forgot-step" style="display: none;">
            <p style="margin-bottom: 20px; color: #666;">Enter the 6-digit verification code sent to your email.</p>
            <form id="forgot-otp-form" onsubmit="handleVerifyOTP(event)">
              <div class="form-group">
                <label for="forgot-otp">Verification Code <span class="required">*</span></label>
                <input type="text" id="forgot-otp" required placeholder="Enter 6-digit code" maxlength="6" pattern="[0-9]{6}" />
                <small style="color: #666; display: block; margin-top: 5px;">Code expires in <span id="otp-timer">5:00</span></small>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Verify Code</button>
                <button type="button" class="btn btn-secondary" onclick="resendOTP()">Resend Code</button>
              </div>
            </form>
          </div>
          
          <div id="forgot-step-3" class="forgot-step" style="display: none;">
            <p style="margin-bottom: 20px; color: #666;">Create your new password.</p>
            <form id="forgot-reset-form" onsubmit="handleResetPassword(event)">
              <div class="form-group">
                <label for="forgot-new-password">New Password <span class="required">*</span></label>
                <input type="password" id="forgot-new-password" required placeholder="Enter new password" minlength="8" />
                <small style="color: #666; display: block; margin-top: 5px;">Password must be at least 8 characters and include: uppercase letter, lowercase letter, and digit</small>
              </div>
              <div class="form-group">
                <label for="forgot-confirm-password">Confirm New Password <span class="required">*</span></label>
                <input type="password" id="forgot-confirm-password" required placeholder="Confirm new password" />
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Reset Password</button>
                <button type="button" class="btn btn-secondary" onclick="closeForgotPasswordModal()">Cancel</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
      <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
          <h2>Edit Profile</h2>
          <span class="close-modal" onclick="closeEditProfileModal()">&times;</span>
        </div>
        <div class="modal-body">
          <form id="edit-profile-form" enctype="multipart/form-data">
            
            <!-- Profile Photo Section -->
            <div class="form-section">
              <h3>Profile Photo</h3>
              <div class="photo-upload-section">
                <div class="current-photo-preview" id="current-photo-preview">
                  <div class="photo-placeholder" id="photo-placeholder">
                    <span id="photo-initials">PH</span>
                  </div>
                  <img id="current-photo-img" style="display: none;" />
                </div>
                <div class="photo-upload-controls">
                  <input type="file" id="profile-photo-input" accept="image/*" style="display: none;" onchange="previewPhoto(event)" />
                  <button type="button" class="btn btn-primary" onclick="document.getElementById('profile-photo-input').click()">
                    üì∑ Choose Photo
                  </button>
                  <button type="button" class="btn btn-secondary" onclick="removePhoto()" id="remove-photo-btn" style="display: none;">
                    üóëÔ∏è Remove
                  </button>
                  <small style="display: block; margin-top: 8px; color: #666;">
                    Supported formats: JPG, PNG, GIF (Max 5MB)
                  </small>
                </div>
              </div>
            </div>

            <!-- Personal Information -->
            <div class="form-section">
              <h3>Personal Information</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="edit-first-name">First Name <span class="required">*</span></label>
                  <input type="text" id="edit-first-name" required />
                </div>
                <div class="form-group">
                  <label for="edit-last-name">Last Name <span class="required">*</span></label>
                  <input type="text" id="edit-last-name" required />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="edit-phone">Phone Number</label>
                  <input type="tel" id="edit-phone" placeholder="Enter phone number" />
                </div>
                <div class="form-group">
                  <label for="edit-department">Department</label>
                  <select id="edit-department">
                    <option value="">Select Department</option>
                    <option value="School of Architecture">School of Architecture</option>
                    <option value="School of Business and Management">School of Business and Management</option>
                    <option value="School of Commerce, Finance and Accountancy">School of Commerce, Finance and Accountancy</option>
                    <option value="School of Education">School of Education</option>
                    <option value="School of Engineering and Technology">School of Engineering and Technology</option>
                    <option value="School of Humanities and Performing Arts">School of Humanities and Performing Arts</option>
                    <option value="School of Law">School of Law</option>
                    <option value="School of Psychological Sciences, Education and Social Work">School of Psychological Sciences, Education and Social Work</option>
                    <option value="School of Sciences">School of Sciences</option>
                    <option value="School of Social Sciences">School of Social Sciences</option>
                    <option value="Others">Others</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- External User Fields -->
            <div class="form-section" id="external-fields" style="display: none;">
              <h3>Additional Information</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="edit-profession">Profession</label>
                  <input type="text" id="edit-profession" placeholder="Your profession" />
                </div>
                <div class="form-group">
                  <label for="edit-institution">Institution</label>
                  <input type="text" id="edit-institution" placeholder="Your institution/company" />
                </div>
              </div>
              <div class="form-group">
                <label for="edit-address">Address</label>
                <textarea id="edit-address" rows="3" placeholder="Your address"></textarea>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="edit-city">City</label>
                  <input type="text" id="edit-city" placeholder="City" />
                </div>
                <div class="form-group">
                  <label for="edit-state">State</label>
                  <input type="text" id="edit-state" placeholder="State" />
                </div>
                <div class="form-group">
                  <label for="edit-pincode">Pincode</label>
                  <input type="text" id="edit-pincode" placeholder="Pincode" maxlength="6" />
                </div>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-primary" id="save-profile-btn" onclick="saveProfileChanges()">üíæ Save Changes</button>
              <button type="button" class="btn btn-secondary" onclick="closeEditProfileModal()">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>

  </body>
</html>